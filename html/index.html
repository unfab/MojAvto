<!DOCTYPE html>
<html lang="sl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MojAvto.si - Domov</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="css/styles.css" />
<script src="js/userMenu.js" defer></script>

</head>
<body>
  <header>
    <div class="logo"><a href="index.html">MojAvto.si</a></div>
    <nav>
      <a href="index.html">Domov</a>
      <a href="napredno_iskanje.html">Napredno iskanje</a>

      <!-- User menu dropdown, hidden by default -->
      <span id="userMenu" style="display:none;">
        <button id="userDropdownBtn">Moj račun ▼</button>
        <div id="userDropdown">
          <a href="create_listing.html">Ustvari oglas</a>
          <a href="#" id="logoutBtn">Odjava</a>
        </div>
      </span>

      <!-- Login link shown only if logged out -->
      <a href="login.html" id="loginLink">Prijava</a>
    </nav>
  </header>

  <main>
    <section class="hero-search" aria-label="Hitro iskanje vozil">
      <h1>Najdi svoj naslednji avtomobil</h1>
      <form class="search-form" id="quickSearchForm" onsubmit="event.preventDefault(); quickSearch();">
        <div>
          <label for="make">Znamka</label>
          <select id="make" name="make">
            <option value="">Vse znamke</option>
            <option value="bmw">BMW</option>
            <option value="mercedes">Mercedes</option>
            <option value="audi">Audi</option>
            <option value="toyota">Toyota</option>
            <option value="volkswagen">VolksWagen</option>
          </select>
        </div>
        <div>
          <label for="yearFrom">Letnik od</label>
          <input type="number" id="yearFrom" name="yearFrom" placeholder="npr. 2010" min="1900" max="2025" />
        </div>
        <div>
          <label for="priceTo">Cena do (€)</label>
          <input type="number" id="priceTo" name="priceTo" placeholder="npr. 15000" min="0" />
        </div>
        <div>
          <button class="search-btn" type="submit" aria-label="Izvedi iskanje">Išči</button>
        </div>
      </form>
    </section>

    <section aria-label="Aktualni oglasi" id="listingsSection">
      <h2>Aktualni oglasi</h2>
      <div class="listings-grid" id="listingsContainer"></div>
      <div class="no-listings" id="noListingsMessage" style="display:none;">
        Zaenkrat ni aktivnih oglasov.
      </div>
    </section>
  </main>

  <footer>
    &copy; 2025 MojAvto.si - Vse pravice pridržane
  </footer>
  <script src="js/main.js"></script>    <!-- listings and search -->
  <script src="js/userMenu.js"></script> <!-- user menu, login/logout UI -->
  <div id="header"></div>

<script>
  fetch('header.html')
    .then(response => response.text())
    .then(data => {
      document.getElementById('header').innerHTML = data;
      // Initialize your menu scripts here if needed
    });
</script>

</body>
</html>
