<div class="search-container">
    <h1>Napredno iskanje</h1>

    <form id="advancedSearchForm">
        <section class="filter-section">
            <div class="filter-section-header">
                <h3><i class="fas fa-car"></i>Osnovni podatki</h3>
            </div>
            <div class="filter-content">
                <div id="criteria-container"></div>
                <div style="margin-top: 1rem;">
                     <button type="button" id="addCriterionBtn" class="btn btn-secondary">+ Dodaj kriterij</button>
                </div>
            </div>
        </section>

        <section class="filter-section">
            <div class="filter-section-header">
                <h3><i class="fas fa-car-alt"></i> Tip karoserije</h3>
                <div class="header-actions">
                    <button type="button" id="selectAllBodyTypesBtn" class="btn-link">Izberi vse</button>
                    <button type="button" id="clearAllBodyTypesBtn" class="btn-link" style="display: none;">Počisti izbor</button>
                </div>
            </div>
            <div class="filter-content">
                <div class="vehicle-type-grid">
                    <div class="vehicle-type" data-type="Limuzina"><i class="fas fa-car-side"></i><span>Limuzina</span></div>
                    <div class="vehicle-type" data-type="Karavan"><i class="fas fa-car-side"></i><span>Karavan</span></div>
                    <div class="vehicle-type" data-type="Kombilimuzina"><i class="fas fa-car"></i><span>Kombilimuzina</span></div>
                    <div class="vehicle-type" data-type="SUV"><i class="fas fa-car-alt"></i><span>SUV</span></div>
                    <div class="vehicle-type" data-type="Enoprostorec"><i class="fas fa-van-shuttle"></i><span>Enoprostorec</span></div>
                    <div class="vehicle-type" data-type="Coupe"><i class="fas fa-car-side"></i><span>Coupe</span></div>
                    <div class="vehicle-type" data-type="Cabrio"><i class="fas fa-car-side"></i><span>Cabrio</span></div>
                    <div class="vehicle-type" data-type="Pick-up"><i class="fas fa-truck-pickup"></i><span>Pick-up</span></div>
                    <div class="vehicle-type" data-type="Mestni avto"><i class="fas fa-car"></i><span>Mestni avto</span></div>
                    <div class="vehicle-type" data-type="Terensko vozilo"><i class="fas fa-truck-monster"></i><span>Terensko vozilo</span></div>
                    <div class="vehicle-type" data-type="Kombi/Dostavnik"><i class="fas fa-truck"></i><span>Kombi/Dostavnik</span></div>
                    <div class="vehicle-type" data-type="Ostalo"><i class="fas fa-ellipsis"></i><span>Ostalo</span></div>
                </div>
            </div>
        </section>

        <section class="filter-section">
             <div class="filter-section-header">
                <h3><i class="fas fa-ban"></i>Izključi vozila</h3>
            </div>
            <div class="filter-content">
                <div class="form-row">
                    <div class="form-group">
                        <label for="exclude-make-select">Znamka</label>
                        <select id="exclude-make-select" name="exclude-make"><option value="">Izberi znamko...</option></select>
                    </div>
                    <div class="form-group">
                        <label for="exclude-model-select">Model (opcijsko)</label>
                        <select id="exclude-model-select" name="exclude-model" disabled><option value="">Vsi modeli</option></select>
                    </div>
                    <div class="form-group">
                        <label for="exclude-type-select">Tip (opcijsko)</label>
                        <select id="exclude-type-select" name="exclude-type" disabled><option value="">Vsi tipi</option></select>
                    </div>
                </div>
                <div style="margin-top: 1.5rem;">
                    <button type="button" id="addExclusionBtn" class="btn btn-secondary">Dodaj</button>
                </div>
                <div id="excluded-items-container" style="margin-top: 1.5rem;"></div>
            </div>
        </section>
        
        <section class="filter-section">
            <div class="filter-section-header">
                <h3><i class="fas fa-history"></i> Stanje in zgodovina vozila</h3>
            </div>
            <div class="filter-content">
                <div class="form-row">
                    <div class="form-group">
                        <label for="condition-select">Stanje vozila</label>
                        <select id="condition-select" name="condition">
                            <option value="">Vse</option>
                            <option value="Novo">Novo</option>
                            <option value="Jahreswagen">"Jahreswagen" (do 1 leta)</option>
                            <option value="Rabljeno">Rabljeno</option>
                            <option value="Oldtimer">Klasično vozilo ("Oldtimer")</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="owners-select">Število prejšnjih lastnikov</label>
                        <select id="owners-select" name="owners">
                            <option value="">Neomejeno</option>
                            <option value="1">Največ 1</option>
                            <option value="2">Največ 2</option>
                            <option value="3">Največ 3</option>
                        </select>
                    </div>
                </div>
                <div class="form-row" style="margin-top: 1.5rem;">
                     <div class="form-group" style="grid-column: 1 / -1;">
                        <div class="checkbox-options single-row">
                            <label for="service-history-check"><input type="checkbox" id="service-history-check" name="service_history" value="true"> Potrjena servisna zgodovina</label>
                            <label for="undamaged-check"><input type="checkbox" id="undamaged-check" name="undamaged" value="true"> Nepoškodovano vozilo</label>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="filter-section">
            <div class="filter-section-header">
                <h3><i class="fas fa-star"></i> Oprema vozila</h3>
            </div>
            <div class="filter-content">
                <div class="equipment-category">
                    <h4><i class="fas fa-shield-alt"></i> Varnost</h4>
                    <div class="equipment-grid">
                        <label for="equip-alarm"><input type="checkbox" id="equip-alarm" name="equipment" value="Alarmna naprava"> Alarmna naprava</label>
                        <label for="equip-tpms"><input type="checkbox" id="equip-tpms" name="equipment" value="Nadzor zračnega tlaka (TPMS)"> Nadzor zračnega tlaka (TPMS)</label>
                        <label for="equip-isofix"><input type="checkbox" id="equip-isofix" name="equipment" value="ISOFIX pritrdišča"> ISOFIX pritrdišča</label>
                        <label for="equip-foglights"><input type="checkbox" id="equip-foglights" name="equipment" value="Meglenke"> Meglenke</label>
                        <label for="equip-ecall"><input type="checkbox" id="equip-ecall" name="equipment" value="Sistem za klic v sili (eCall)"> Sistem za klic v sili (eCall)</label>
                        <label for="equip-aircurtains"><input type="checkbox" id="equip-aircurtains" name="equipment" value="Zračne zavese"> Zračne zavese</label>
                    </div>
                </div>
                </div>
        </section>

        <section class="filter-section">
            <div class="filter-section-header">
                <h3><i class="fas fa-leaf"></i> Okoljski in ekonomski podatki</h3>
            </div>
            <div class="filter-content">
                <div class="form-row">
                    <div class="form-group">
                        <label for="euro-norm-select">EURO norma (minimalno)</label>
                        <select id="euro-norm-select" name="euro_norm">
                            <option value="">Vse</option>
                            <option value="Euro 6">Euro 6</option>
                            <option value="Euro 5">Euro 5</option>
                            <option value="Euro 4">Euro 4</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="energy-class-select">Energijski razred (minimalno)</label>
                        <select id="energy-class-select" name="energy_class">
                            <option value="">Vsi</option>
                            <option value="A+">A+</option>
                            <option value="A">A</option>
                            <option value="B">B</option>
                            <option value="C">C</option>
                            <option value="D">D</option>
                            <option value="E">E</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="co2-emissions-input">Emisije CO2 do (g/km)</label>
                        <input type="number" id="co2-emissions-input" name="co2_emissions" placeholder="npr. 120">
                    </div>
                </div>
                </div>
        </section>

        <section class="filter-section">
            <div class="filter-section-header">
                <h3><i class="fas fa-sliders-h"></i>Cena, letnik in kilometri</h3>
            </div>
            <div class="filter-content">
                <div class="form-row">
                    <div class="form-group">
                        <label for="price-from-input">Cena od (€)</label>
                        <input type="number" id="price-from-input" name="priceFrom" placeholder="npr. 5000">
                    </div>
                    <div class="form-group">
                        <label for="price-to-input">Cena do (€)</label>
                        <input type="number" id="price-to-input" name="priceTo" placeholder="npr. 15000">
                    </div>
                    <div class="form-group">
                        <label for="year-from-select">1. registracija od</label>
                        <select id="year-from-select" name="yearFrom"><option value="">Vse</option></select>
                    </div>
                    <div class="form-group">
                        <label for="year-to-select">1. registracija do</label>
                        <select id="year-to-select" name="yearTo"><option value="">Vse</option></select>
                    </div>
                    <div class="form-group">
                        <label for="mileage-from-input">Kilometri od</label>
                        <input type="number" id="mileage-from-input" name="mileageFrom" placeholder="npr. 50000">
                    </div>
                    <div class="form-group">
                        <label for="mileage-to-input">Kilometri do</label>
                        <input type="number" id="mileage-to-input" name="mileageTo" placeholder="npr. 150000">
                    </div>
                </div>
            </div>
        </section>

        <section class="filter-section">
             <div class="filter-section-header">
                <h3><i class="fas fa-cogs"></i>Tehnični podatki in gorivo</h3>
            </div>
            <div class="filter-content">
                <div class="form-row">
                    <div class="form-group">
                        <label for="fuel-select">Vrsta goriva</label>
                        <select id="fuel-select" name="fuel">
                            <option value="">Vse</option>
                            <option value="Bencin">Bencin</option>
                            <option value="Dizel">Dizel</option>
                            <option value="Elektrika">Elektrika</option>
                            <option value="Hibrid">Hibrid</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="gearbox-select">Menjalnik</label>
                        <select id="gearbox-select" name="gearbox">
                            <option value="">Vse</option>
                            <option>Ročni</option>
                            <option>Avtomatski</option>
                        </select>
                    </div>
                </div>
                <div class="form-row" id="electric-options-row" style="margin-top: 1.5rem;">
                    <div class="form-group">
                        <label for="range-input">Minimalni domet (km)</label>
                        <input type="number" id="range-input" name="range" placeholder="npr. 300">
                    </div>
                    <div class="form-group">
                        <label for="battery-input">Min. kapaciteta baterije (kWh)</label>
                        <input type="number" id="battery-input" name="battery" placeholder="npr. 50">
                    </div>
                </div>
                <div class="form-row" id="hybrid-options-row" style="margin-top: 1.5rem;">
                    <div class="form-group" style="grid-column: 1 / -1;">
                        <label>Tip hibridnega pogona</label>
                        <div class="checkbox-options" style="margin-top: 0.5rem;">
                            <label for="hybrid-phev"><input type="radio" id="hybrid-phev" name="hybrid_type" value="PHEV"> Priključni hibrid (PHEV)</label>
                            <label for="hybrid-mild"><input type="radio" id="hybrid-mild" name="hybrid_type" value="Mild"> Blagi hibrid (Mild)</label>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <div class="search-actions">
            <button class="btn btn-secondary" type="reset">Ponastavi</button>
            <button class="btn btn-primary" type="submit">Prikaži rezultate</button>
        </div>
    </form>
</div>